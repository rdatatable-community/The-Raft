<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Albert Rapp">
<meta name="dcterms.date" content="2025-07-06">

<title>data.table vs dplyr: A Side-by-Side Comparison – Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-listing/list.min.js"></script>
<script src="../../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-bab6d4080e933acd2ba5c5a05bee5553.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-date','listing-title','listing-author','listing-subtitle','listing-image','listing-description','listing-categories',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      page: 25,
    pagination: { item: "<li class='page-item'><a class='page page-link' href='#'></a></li>" },
      searchColumns: ["listing-date","listing-title","listing-author","listing-subtitle","listing-image","listing-description","listing-categories"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-listing'] = new List('listing-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
<link rel="alternate" type="application/rss+xml" title="Blog" href="index.xml" data-external="1"></head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rdatatable"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fosstodon.org/@r_data_table"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://bsky.app/profile/rdatatable.bsky.social"> <i class="bi bi-cloud" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/r_data_table"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:r.data.table@gmail.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><code>data.table</code> vs <code>dplyr</code>: A Side-by-Side Comparison</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">guest post</div>
                <div class="quarto-category">tutorials</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Albert Rapp </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 6, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <h5 class="quarto-listing-category-title">Categories</h5><div class="quarto-listing-category category-default"><div class="category" data-category="">All <span class="quarto-category-count">(27)</span></div><div class="category" data-category="YW1iYXNzYWRvcnM=">ambassadors <span class="quarto-category-count">(2)</span></div><div class="category" data-category="YW5ub3VuY2VtZW50cw==">announcements <span class="quarto-category-count">(8)</span></div><div class="category" data-category="YXBwbGljYXRpb24lMjBwYWNrYWdl">application package <span class="quarto-category-count">(1)</span></div><div class="category" data-category="YmVuY2htYXJrcw==">benchmarks <span class="quarto-category-count">(1)</span></div><div class="category" data-category="YnJpZGdlJTIwcGFja2FnZQ==">bridge package <span class="quarto-category-count">(2)</span></div><div class="category" data-category="Y29tbXVuaXR5">community <span class="quarto-category-count">(4)</span></div><div class="category" data-category="Y29uZmVyZW5jZXM=">conferences <span class="quarto-category-count">(1)</span></div><div class="category" data-category="ZGV2ZWxvcGVy">developer <span class="quarto-category-count">(6)</span></div><div class="category" data-category="ZG9jdW1lbnRhdGlvbg==">documentation <span class="quarto-category-count">(2)</span></div><div class="category" data-category="ZXh0ZW5zaW9uJTIwcGFja2FnZQ==">extension package <span class="quarto-category-count">(1)</span></div><div class="category" data-category="ZnVuZGluZyUyMG9wcG9ydHVuaXR5">funding opportunity <span class="quarto-category-count">(2)</span></div><div class="category" data-category="Z2l0aHViJTIwYWN0aW9u">github action <span class="quarto-category-count">(1)</span></div><div class="category" data-category="Z292ZXJuYW5jZQ==">governance <span class="quarto-category-count">(2)</span></div><div class="category" data-category="Z3JhbnQ=">grant <span class="quarto-category-count">(10)</span></div><div class="category" data-category="Z3Vlc3QlMjBwb3N0">guest post <span class="quarto-category-count">(3)</span></div><div class="category" data-category="b3Bpbmlvbg==">opinion <span class="quarto-category-count">(1)</span></div><div class="category" data-category="cGFydG5lciUyMHBhY2thZ2U=">partner package <span class="quarto-category-count">(1)</span></div><div class="category" data-category="cGVyZm9ybWFuY2U=">performance <span class="quarto-category-count">(2)</span></div><div class="category" data-category="cGVyZm9ybWFuY2UlMjB0ZXN0aW5n">performance testing <span class="quarto-category-count">(1)</span></div><div class="category" data-category="cmVsZWFzZXM=">releases <span class="quarto-category-count">(1)</span></div><div class="category" data-category="c2VhbCUyMG9mJTIwYXBwcm92YWw=">seal of approval <span class="quarto-category-count">(6)</span></div><div class="category" data-category="dGVzdGluZw==">testing <span class="quarto-category-count">(2)</span></div><div class="category" data-category="dGlwcw==">tips <span class="quarto-category-count">(4)</span></div><div class="category" data-category="dHJhbnNsYXRpb24=">translation <span class="quarto-category-count">(1)</span></div><div class="category" data-category="dHJhdmVs">travel <span class="quarto-category-count">(1)</span></div><div class="category" data-category="dHV0b3JpYWxz">tutorials <span class="quarto-category-count">(5)</span></div></div></div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>[Note: This blog post originally appeared on <a href="https://albert-rapp.de/posts/34_datatable_vs_dplyr/34_datatable_vs_dplyr">albert-rapp.de</a> and has been shared here to serve both the <code>{data.table}</code> and <code>{dplyr}</code> communities.]</p>
<p>In today’s blogpost I show you how to do common data cleaning operations via both <code>{data.table}</code> and <code>{dplyr}</code>. These are two fantastic frameworks inside the R ecosystem. As always, there’s also a video version available:</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/6EWZK2kMano" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<section id="get-data" class="level2">
<h2 class="anchored" data-anchor-id="get-data">Get data</h2>
<p>First, let us take a look at our data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>ames <span class="ot">&lt;-</span> modeldata<span class="sc">::</span>ames <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="co"># this is already the case but for comparability done here again</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>ames</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,930 × 74
   ms_sub_class           ms_zoning lot_frontage lot_area street alley lot_shape
   &lt;fct&gt;                  &lt;fct&gt;            &lt;dbl&gt;    &lt;int&gt; &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt;    
 1 One_Story_1946_and_Ne… Resident…          141    31770 Pave   No_A… Slightly…
 2 One_Story_1946_and_Ne… Resident…           80    11622 Pave   No_A… Regular  
 3 One_Story_1946_and_Ne… Resident…           81    14267 Pave   No_A… Slightly…
 4 One_Story_1946_and_Ne… Resident…           93    11160 Pave   No_A… Regular  
 5 Two_Story_1946_and_Ne… Resident…           74    13830 Pave   No_A… Slightly…
 6 Two_Story_1946_and_Ne… Resident…           78     9978 Pave   No_A… Slightly…
 7 One_Story_PUD_1946_an… Resident…           41     4920 Pave   No_A… Regular  
 8 One_Story_PUD_1946_an… Resident…           43     5005 Pave   No_A… Slightly…
 9 One_Story_PUD_1946_an… Resident…           39     5389 Pave   No_A… Slightly…
10 Two_Story_1946_and_Ne… Resident…           60     7500 Pave   No_A… Regular  
# ℹ 2,920 more rows
# ℹ 67 more variables: land_contour &lt;fct&gt;, utilities &lt;fct&gt;, lot_config &lt;fct&gt;,
#   land_slope &lt;fct&gt;, neighborhood &lt;fct&gt;, condition_1 &lt;fct&gt;, condition_2 &lt;fct&gt;,
#   bldg_type &lt;fct&gt;, house_style &lt;fct&gt;, overall_cond &lt;fct&gt;, year_built &lt;int&gt;,
#   year_remod_add &lt;int&gt;, roof_style &lt;fct&gt;, roof_matl &lt;fct&gt;,
#   exterior_1st &lt;fct&gt;, exterior_2nd &lt;fct&gt;, mas_vnr_type &lt;fct&gt;,
#   mas_vnr_area &lt;dbl&gt;, exter_cond &lt;fct&gt;, foundation &lt;fct&gt;, bsmt_cond &lt;fct&gt;, …</code></pre>
</div>
</div>
<p>We will need to convert it to a <code>data.table</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df_ames <span class="ot">&lt;-</span> <span class="fu">as.data.table</span>(ames)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df_ames</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                             ms_sub_class                ms_zoning lot_frontage
                                   &lt;fctr&gt;                   &lt;fctr&gt;        &lt;num&gt;
   1: One_Story_1946_and_Newer_All_Styles  Residential_Low_Density          141
   2: One_Story_1946_and_Newer_All_Styles Residential_High_Density           80
   3: One_Story_1946_and_Newer_All_Styles  Residential_Low_Density           81
   4: One_Story_1946_and_Newer_All_Styles  Residential_Low_Density           93
   5:            Two_Story_1946_and_Newer  Residential_Low_Density           74
  ---                                                                          
2926:                 Split_or_Multilevel  Residential_Low_Density           37
2927: One_Story_1946_and_Newer_All_Styles  Residential_Low_Density            0
2928:                         Split_Foyer  Residential_Low_Density           62
2929: One_Story_1946_and_Newer_All_Styles  Residential_Low_Density           77
2930:            Two_Story_1946_and_Newer  Residential_Low_Density           74
      lot_area street           alley          lot_shape land_contour utilities
         &lt;int&gt; &lt;fctr&gt;          &lt;fctr&gt;             &lt;fctr&gt;       &lt;fctr&gt;    &lt;fctr&gt;
   1:    31770   Pave No_Alley_Access Slightly_Irregular          Lvl    AllPub
   2:    11622   Pave No_Alley_Access            Regular          Lvl    AllPub
   3:    14267   Pave No_Alley_Access Slightly_Irregular          Lvl    AllPub
   4:    11160   Pave No_Alley_Access            Regular          Lvl    AllPub
   5:    13830   Pave No_Alley_Access Slightly_Irregular          Lvl    AllPub
  ---                                                                          
2926:     7937   Pave No_Alley_Access Slightly_Irregular          Lvl    AllPub
2927:     8885   Pave No_Alley_Access Slightly_Irregular          Low    AllPub
2928:    10441   Pave No_Alley_Access            Regular          Lvl    AllPub
2929:    10010   Pave No_Alley_Access            Regular          Lvl    AllPub
2930:     9627   Pave No_Alley_Access            Regular          Lvl    AllPub
      lot_config land_slope neighborhood condition_1 condition_2 bldg_type
          &lt;fctr&gt;     &lt;fctr&gt;       &lt;fctr&gt;      &lt;fctr&gt;      &lt;fctr&gt;    &lt;fctr&gt;
   1:     Corner        Gtl   North_Ames        Norm        Norm    OneFam
   2:     Inside        Gtl   North_Ames       Feedr        Norm    OneFam
   3:     Corner        Gtl   North_Ames        Norm        Norm    OneFam
   4:     Corner        Gtl   North_Ames        Norm        Norm    OneFam
   5:     Inside        Gtl      Gilbert        Norm        Norm    OneFam
  ---                                                                     
2926:    CulDSac        Gtl     Mitchell        Norm        Norm    OneFam
2927:     Inside        Mod     Mitchell        Norm        Norm    OneFam
2928:     Inside        Gtl     Mitchell        Norm        Norm    OneFam
2929:     Inside        Mod     Mitchell        Norm        Norm    OneFam
2930:     Inside        Mod     Mitchell        Norm        Norm    OneFam
      house_style  overall_cond year_built year_remod_add roof_style roof_matl
           &lt;fctr&gt;        &lt;fctr&gt;      &lt;int&gt;          &lt;int&gt;     &lt;fctr&gt;    &lt;fctr&gt;
   1:   One_Story       Average       1960           1960        Hip   CompShg
   2:   One_Story Above_Average       1961           1961      Gable   CompShg
   3:   One_Story Above_Average       1958           1958        Hip   CompShg
   4:   One_Story       Average       1968           1968        Hip   CompShg
   5:   Two_Story       Average       1997           1998      Gable   CompShg
  ---                                                                         
2926:        SLvl Above_Average       1984           1984      Gable   CompShg
2927:   One_Story       Average       1983           1983      Gable   CompShg
2928:      SFoyer       Average       1992           1992      Gable   CompShg
2929:   One_Story       Average       1974           1975      Gable   CompShg
2930:   Two_Story       Average       1993           1994      Gable   CompShg
      exterior_1st exterior_2nd mas_vnr_type mas_vnr_area exter_cond foundation
            &lt;fctr&gt;       &lt;fctr&gt;       &lt;fctr&gt;        &lt;num&gt;     &lt;fctr&gt;     &lt;fctr&gt;
   1:      BrkFace      Plywood        Stone          112    Typical     CBlock
   2:      VinylSd      VinylSd         None            0    Typical     CBlock
   3:      Wd Sdng      Wd Sdng      BrkFace          108    Typical     CBlock
   4:      BrkFace      BrkFace         None            0    Typical     CBlock
   5:      VinylSd      VinylSd         None            0    Typical      PConc
  ---                                                                          
2926:      HdBoard      HdBoard         None            0    Typical     CBlock
2927:      HdBoard      HdBoard         None            0    Typical     CBlock
2928:      HdBoard      Wd Shng         None            0    Typical      PConc
2929:      HdBoard      HdBoard         None            0    Typical     CBlock
2930:      HdBoard      HdBoard      BrkFace           94    Typical      PConc
      bsmt_cond bsmt_exposure bsmt_fin_type_1 bsmt_fin_sf_1 bsmt_fin_type_2
         &lt;fctr&gt;        &lt;fctr&gt;          &lt;fctr&gt;         &lt;num&gt;          &lt;fctr&gt;
   1:      Good            Gd             BLQ             2             Unf
   2:   Typical            No             Rec             6             LwQ
   3:   Typical            No             ALQ             1             Unf
   4:   Typical            No             ALQ             1             Unf
   5:   Typical            No             GLQ             3             Unf
  ---                                                                      
2926:   Typical            Av             GLQ             3             Unf
2927:   Typical            Av             BLQ             2             ALQ
2928:   Typical            Av             GLQ             3             Unf
2929:   Typical            Av             ALQ             1             LwQ
2930:   Typical            Av             LwQ             4             Unf
      bsmt_fin_sf_2 bsmt_unf_sf total_bsmt_sf heating heating_qc central_air
              &lt;num&gt;       &lt;num&gt;         &lt;num&gt;  &lt;fctr&gt;     &lt;fctr&gt;      &lt;fctr&gt;
   1:             0         441          1080    GasA       Fair           Y
   2:           144         270           882    GasA    Typical           Y
   3:             0         406          1329    GasA    Typical           Y
   4:             0        1045          2110    GasA  Excellent           Y
   5:             0         137           928    GasA       Good           Y
  ---                                                                       
2926:             0         184          1003    GasA    Typical           Y
2927:           324         239           864    GasA    Typical           Y
2928:             0         575           912    GasA    Typical           Y
2929:           123         195          1389    GasA       Good           Y
2930:             0         238           996    GasA  Excellent           Y
      electrical first_flr_sf second_flr_sf gr_liv_area bsmt_full_bath
          &lt;fctr&gt;        &lt;int&gt;         &lt;int&gt;       &lt;int&gt;          &lt;num&gt;
   1:      SBrkr         1656             0        1656              1
   2:      SBrkr          896             0         896              0
   3:      SBrkr         1329             0        1329              0
   4:      SBrkr         2110             0        2110              1
   5:      SBrkr          928           701        1629              0
  ---                                                                 
2926:      SBrkr         1003             0        1003              1
2927:      SBrkr          902             0         902              1
2928:      SBrkr          970             0         970              0
2929:      SBrkr         1389             0        1389              1
2930:      SBrkr          996          1004        2000              0
      bsmt_half_bath full_bath half_bath bedroom_abv_gr kitchen_abv_gr
               &lt;num&gt;     &lt;int&gt;     &lt;int&gt;          &lt;int&gt;          &lt;int&gt;
   1:              0         1         0              3              1
   2:              0         1         0              2              1
   3:              0         1         1              3              1
   4:              0         2         1              3              1
   5:              0         2         1              3              1
  ---                                                                 
2926:              0         1         0              3              1
2927:              0         1         0              2              1
2928:              1         1         0              3              1
2929:              0         1         0              2              1
2930:              0         2         1              3              1
      tot_rms_abv_grd functional fireplaces garage_type garage_finish
                &lt;int&gt;     &lt;fctr&gt;      &lt;int&gt;      &lt;fctr&gt;        &lt;fctr&gt;
   1:               7        Typ          2      Attchd           Fin
   2:               5        Typ          0      Attchd           Unf
   3:               6        Typ          0      Attchd           Unf
   4:               8        Typ          2      Attchd           Fin
   5:               6        Typ          1      Attchd           Fin
  ---                                                                
2926:               6        Typ          0      Detchd           Unf
2927:               5        Typ          0      Attchd           Unf
2928:               6        Typ          0   No_Garage     No_Garage
2929:               6        Typ          1      Attchd           RFn
2930:               9        Typ          1      Attchd           Fin
      garage_cars garage_area garage_cond      paved_drive wood_deck_sf
            &lt;num&gt;       &lt;num&gt;      &lt;fctr&gt;           &lt;fctr&gt;        &lt;int&gt;
   1:           2         528     Typical Partial_Pavement          210
   2:           1         730     Typical            Paved          140
   3:           1         312     Typical            Paved          393
   4:           2         522     Typical            Paved            0
   5:           2         482     Typical            Paved          212
  ---                                                                  
2926:           2         588     Typical            Paved          120
2927:           2         484     Typical            Paved          164
2928:           0           0   No_Garage            Paved           80
2929:           2         418     Typical            Paved          240
2930:           3         650     Typical            Paved          190
      open_porch_sf enclosed_porch three_season_porch screen_porch pool_area
              &lt;int&gt;          &lt;int&gt;              &lt;int&gt;        &lt;int&gt;     &lt;int&gt;
   1:            62              0                  0            0         0
   2:             0              0                  0          120         0
   3:            36              0                  0            0         0
   4:             0              0                  0            0         0
   5:            34              0                  0            0         0
  ---                                                                       
2926:             0              0                  0            0         0
2927:             0              0                  0            0         0
2928:            32              0                  0            0         0
2929:            38              0                  0            0         0
2930:            48              0                  0            0         0
      pool_qc           fence misc_feature misc_val mo_sold year_sold sale_type
       &lt;fctr&gt;          &lt;fctr&gt;       &lt;fctr&gt;    &lt;int&gt;   &lt;int&gt;     &lt;int&gt;    &lt;fctr&gt;
   1: No_Pool        No_Fence         None        0       5      2010       WD 
   2: No_Pool Minimum_Privacy         None        0       6      2010       WD 
   3: No_Pool        No_Fence         Gar2    12500       6      2010       WD 
   4: No_Pool        No_Fence         None        0       4      2010       WD 
   5: No_Pool Minimum_Privacy         None        0       3      2010       WD 
  ---                                                                          
2926: No_Pool    Good_Privacy         None        0       3      2006       WD 
2927: No_Pool Minimum_Privacy         None        0       6      2006       WD 
2928: No_Pool Minimum_Privacy         Shed      700       7      2006       WD 
2929: No_Pool        No_Fence         None        0       4      2006       WD 
2930: No_Pool        No_Fence         None        0      11      2006       WD 
      sale_condition sale_price longitude latitude
              &lt;fctr&gt;      &lt;int&gt;     &lt;num&gt;    &lt;num&gt;
   1:         Normal     215000 -93.61975 42.05403
   2:         Normal     105000 -93.61976 42.05301
   3:         Normal     172000 -93.61939 42.05266
   4:         Normal     244000 -93.61732 42.05125
   5:         Normal     189900 -93.63893 42.06090
  ---                                             
2926:         Normal     142500 -93.60478 41.98896
2927:         Normal     131000 -93.60268 41.98831
2928:         Normal     132000 -93.60685 41.98651
2929:         Normal     170000 -93.60019 41.99092
2930:         Normal     188000 -93.60000 41.98927</code></pre>
</div>
</div>
<p>Also, let us set options for nicer <code>data.table</code> outputs. I don’t want lot’s of columns and rows to flood my console.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compact printing similar to tibble</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">datatable.print.topn =</span> <span class="dv">5</span>,     <span class="co"># Show only top 10 rows</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">datatable.print.nrows =</span> <span class="dv">10</span>,   <span class="co"># Limit number of printed rows</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">datatable.print.class =</span> <span class="cn">TRUE</span>, <span class="co"># Show column classes</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">datatable.print.trunc.cols =</span> <span class="cn">TRUE</span> <span class="co"># Truncate wide columns</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-general-difference" class="level2">
<h2 class="anchored" data-anchor-id="the-general-difference">The general difference</h2>
<p><code>{dplyr}</code> uses functions/verbs that are chained together. This has the advantage that it’s easily readable to anybody because the function names are usually understandable even to non-programmers.</p>
<p>On the other hand <code>{data.table}</code> uses a super concise code style with lots of abbreviations. This has the advantage that the code is short but if you don’t know the system then you might feel lost.</p>
<p>So let me explain the system behind <code>{data.table}</code>. The most basic thing to understand is that a data.table <code>df</code> can be modified via a bracket using up to three different components. This might look something like <code>df[i, j, by]</code>.</p>
<p>The first component <code>i</code> refers to rows that are “modified”. The second component <code>j</code> refers to columns that might be <code>modified</code>. And the third component <code>by</code> refers to any grouping you might want to use.</p>
<p>But enough theory. Let’s see this in action.</p>
</section>
<section id="sort-specific-columns" class="level2">
<h2 class="anchored" data-anchor-id="sort-specific-columns">Sort specific columns</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> <span class="fu">arrange</span>(lot_frontage) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,930 × 74
   ms_sub_class           ms_zoning lot_frontage lot_area street alley lot_shape
   &lt;fct&gt;                  &lt;fct&gt;            &lt;dbl&gt;    &lt;int&gt; &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt;    
 1 One_Story_1946_and_Ne… Resident…            0     7980 Pave   No_A… Slightly…
 2 One_Story_PUD_1946_an… Resident…            0     6820 Pave   No_A… Slightly…
 3 Two_Story_1946_and_Ne… Floating…            0     7500 Pave   No_A… Regular  
 4 One_Story_1946_and_Ne… Resident…            0    11241 Pave   No_A… Slightly…
 5 One_Story_1946_and_Ne… Resident…            0    12537 Pave   No_A… Slightly…
 6 Two_Story_1946_and_Ne… Resident…            0     7851 Pave   No_A… Regular  
 7 Split_or_Multilevel    Resident…            0     7750 Pave   No_A… Slightly…
 8 Two_Story_1946_and_Ne… Resident…            0     9505 Pave   No_A… Slightly…
 9 Two_Story_1946_and_Ne… Resident…            0     8880 Pave   No_A… Slightly…
10 Two_Story_1946_and_Ne… Resident…            0     9453 Pave   No_A… Slightly…
# ℹ 2,920 more rows
# ℹ 67 more variables: land_contour &lt;fct&gt;, utilities &lt;fct&gt;, lot_config &lt;fct&gt;,
#   land_slope &lt;fct&gt;, neighborhood &lt;fct&gt;, condition_1 &lt;fct&gt;, condition_2 &lt;fct&gt;,
#   bldg_type &lt;fct&gt;, house_style &lt;fct&gt;, overall_cond &lt;fct&gt;, year_built &lt;int&gt;,
#   year_remod_add &lt;int&gt;, roof_style &lt;fct&gt;, roof_matl &lt;fct&gt;,
#   exterior_1st &lt;fct&gt;, exterior_2nd &lt;fct&gt;, mas_vnr_type &lt;fct&gt;,
#   mas_vnr_area &lt;dbl&gt;, exter_cond &lt;fct&gt;, foundation &lt;fct&gt;, bsmt_cond &lt;fct&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_ames[<span class="fu">order</span>(lot_frontage)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                   ms_sub_class                    ms_zoning
                                         &lt;fctr&gt;                       &lt;fctr&gt;
   1:       One_Story_1946_and_Newer_All_Styles      Residential_Low_Density
   2:              One_Story_PUD_1946_and_Newer      Residential_Low_Density
   3:                  Two_Story_1946_and_Newer Floating_Village_Residential
   4:       One_Story_1946_and_Newer_All_Styles      Residential_Low_Density
   5:       One_Story_1946_and_Newer_All_Styles      Residential_Low_Density
  ---                                                                       
2926:       One_Story_1946_and_Newer_All_Styles      Residential_Low_Density
2927: Two_Family_conversion_All_Styles_and_Ages      Residential_Low_Density
2928:       One_Story_1946_and_Newer_All_Styles      Residential_Low_Density
2929:       One_Story_1946_and_Newer_All_Styles      Residential_Low_Density
2930:                  Two_Story_1946_and_Newer      Residential_Low_Density
72 variables not shown: [lot_frontage &lt;num&gt;, lot_area &lt;int&gt;, street &lt;fctr&gt;, alley &lt;fctr&gt;, lot_shape &lt;fctr&gt;, land_contour &lt;fctr&gt;, utilities &lt;fctr&gt;, lot_config &lt;fctr&gt;, land_slope &lt;fctr&gt;, neighborhood &lt;fctr&gt;, ...]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="filter-for-specific-rows" class="level2">
<h2 class="anchored" data-anchor-id="filter-for-specific-rows">Filter for specific rows</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> <span class="fu">filter</span>(sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 230 × 74
   ms_sub_class           ms_zoning lot_frontage lot_area street alley lot_shape
   &lt;fct&gt;                  &lt;fct&gt;            &lt;dbl&gt;    &lt;int&gt; &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt;    
 1 Two_Story_1946_and_Ne… Resident…           47    53504 Pave   No_A… Moderate…
 2 One_Story_1946_and_Ne… Resident…           88    11394 Pave   No_A… Regular  
 3 Two_Story_1946_and_Ne… Resident…          102    12858 Pave   No_A… Slightly…
 4 One_Story_1946_and_Ne… Resident…           98    11478 Pave   No_A… Regular  
 5 One_Story_1946_and_Ne… Resident…           83    10159 Pave   No_A… Slightly…
 6 One_Story_1946_and_Ne… Resident…          100    12919 Pave   No_A… Slightly…
 7 One_Story_1946_and_Ne… Resident…          110    14300 Pave   No_A… Regular  
 8 Two_Story_1946_and_Ne… Resident…          105    13650 Pave   No_A… Regular  
 9 One_Story_PUD_1946_an… Resident…           61     7658 Pave   No_A… Regular  
10 Two_Story_1946_and_Ne… Resident…          108    14774 Pave   No_A… Slightly…
# ℹ 220 more rows
# ℹ 67 more variables: land_contour &lt;fct&gt;, utilities &lt;fct&gt;, lot_config &lt;fct&gt;,
#   land_slope &lt;fct&gt;, neighborhood &lt;fct&gt;, condition_1 &lt;fct&gt;, condition_2 &lt;fct&gt;,
#   bldg_type &lt;fct&gt;, house_style &lt;fct&gt;, overall_cond &lt;fct&gt;, year_built &lt;int&gt;,
#   year_remod_add &lt;int&gt;, roof_style &lt;fct&gt;, roof_matl &lt;fct&gt;,
#   exterior_1st &lt;fct&gt;, exterior_2nd &lt;fct&gt;, mas_vnr_type &lt;fct&gt;,
#   mas_vnr_area &lt;dbl&gt;, exter_cond &lt;fct&gt;, foundation &lt;fct&gt;, bsmt_cond &lt;fct&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df_ames[sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            ms_sub_class               ms_zoning lot_frontage
                                  &lt;fctr&gt;                  &lt;fctr&gt;        &lt;num&gt;
  1:            Two_Story_1946_and_Newer Residential_Low_Density           47
  2: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           88
  3:            Two_Story_1946_and_Newer Residential_Low_Density          102
  4: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           98
  5: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           83
 ---                                                                         
226:            Two_Story_1946_and_Newer Residential_Low_Density           42
227: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           85
228: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           95
229: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           88
230: One_Story_1946_and_Newer_All_Styles Residential_Low_Density           88
71 variables not shown: [lot_area &lt;int&gt;, street &lt;fctr&gt;, alley &lt;fctr&gt;, lot_shape &lt;fctr&gt;, land_contour &lt;fctr&gt;, utilities &lt;fctr&gt;, lot_config &lt;fctr&gt;, land_slope &lt;fctr&gt;, neighborhood &lt;fctr&gt;, condition_1 &lt;fctr&gt;, ...]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="select-specific-columns" class="level2">
<h2 class="anchored" data-anchor-id="select-specific-columns">Select specific columns</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><code>data.table</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false"><code>data.table</code> (<code>.()</code> shorthand)</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(neighborhood, sale_price, lot_area)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 230 × 3
   neighborhood       sale_price lot_area
   &lt;fct&gt;                   &lt;int&gt;    &lt;int&gt;
 1 Stone_Brook            538000    53504
 2 Stone_Brook            394432    11394
 3 Northridge_Heights     376162    12858
 4 Northridge_Heights     306000    11478
 5 Northridge_Heights     395192    10159
 6 Northridge_Heights     611657    12919
 7 Northridge_Heights     500000    14300
 8 Northridge_Heights     320000    13650
 9 Northridge_Heights     319900     7658
10 Northridge             333168    14774
# ℹ 220 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(neighborhood, sale_price, lot_area)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           neighborhood sale_price lot_area
                 &lt;fctr&gt;      &lt;int&gt;    &lt;int&gt;
  1:        Stone_Brook     538000    53504
  2:        Stone_Brook     394432    11394
  3: Northridge_Heights     376162    12858
  4: Northridge_Heights     306000    11478
  5: Northridge_Heights     395192    10159
 ---                                       
226:         Timberland     335000    26178
227:         Timberland     312500    14331
228:         Timberland     320000    13618
229:         Timberland     369900    11443
230:         Timberland     359900    11577</code></pre>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<p>If you don’t want to type out the <code>list()</code> command, you can also use <code>data.table</code>’s shorthand notation <code>.()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  .(neighborhood, sale_price, lot_area)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           neighborhood sale_price lot_area
                 &lt;fctr&gt;      &lt;int&gt;    &lt;int&gt;
  1:        Stone_Brook     538000    53504
  2:        Stone_Brook     394432    11394
  3: Northridge_Heights     376162    12858
  4: Northridge_Heights     306000    11478
  5: Northridge_Heights     395192    10159
 ---                                       
226:         Timberland     335000    26178
227:         Timberland     312500    14331
228:         Timberland     320000    13618
229:         Timberland     369900    11443
230:         Timberland     359900    11577</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="select-many-columns-by-name" class="level2">
<h2 class="anchored" data-anchor-id="select-many-columns-by-name">Select many columns by name</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">'area'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,930 × 5
   lot_area mas_vnr_area gr_liv_area garage_area pool_area
      &lt;int&gt;        &lt;dbl&gt;       &lt;int&gt;       &lt;dbl&gt;     &lt;int&gt;
 1    31770          112        1656         528         0
 2    11622            0         896         730         0
 3    14267          108        1329         312         0
 4    11160            0        2110         522         0
 5    13830            0        1629         482         0
 6     9978           20        1604         470         0
 7     4920            0        1338         582         0
 8     5005            0        1280         506         0
 9     5389            0        1616         608         0
10     7500            0        1804         442         0
# ℹ 2,920 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df_ames[, .SD, .SDcols <span class="ot">=</span> <span class="fu">patterns</span>(<span class="st">'area'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      lot_area mas_vnr_area gr_liv_area garage_area pool_area
         &lt;int&gt;        &lt;num&gt;       &lt;int&gt;       &lt;num&gt;     &lt;int&gt;
   1:    31770          112        1656         528         0
   2:    11622            0         896         730         0
   3:    14267          108        1329         312         0
   4:    11160            0        2110         522         0
   5:    13830            0        1629         482         0
  ---                                                        
2926:     7937            0        1003         588         0
2927:     8885            0         902         484         0
2928:    10441            0         970           0         0
2929:    10010            0        1389         418         0
2930:     9627           94        2000         650         0</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="select-many-columns-by-type" class="level2">
<h2 class="anchored" data-anchor-id="select-many-columns-by-type">Select many columns by type</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,930 × 34
   lot_frontage lot_area year_built year_remod_add mas_vnr_area bsmt_fin_sf_1
          &lt;dbl&gt;    &lt;int&gt;      &lt;int&gt;          &lt;int&gt;        &lt;dbl&gt;         &lt;dbl&gt;
 1          141    31770       1960           1960          112             2
 2           80    11622       1961           1961            0             6
 3           81    14267       1958           1958          108             1
 4           93    11160       1968           1968            0             1
 5           74    13830       1997           1998            0             3
 6           78     9978       1998           1998           20             3
 7           41     4920       2001           2001            0             3
 8           43     5005       1992           1992            0             1
 9           39     5389       1995           1996            0             3
10           60     7500       1999           1999            0             7
# ℹ 2,920 more rows
# ℹ 28 more variables: bsmt_fin_sf_2 &lt;dbl&gt;, bsmt_unf_sf &lt;dbl&gt;,
#   total_bsmt_sf &lt;dbl&gt;, first_flr_sf &lt;int&gt;, second_flr_sf &lt;int&gt;,
#   gr_liv_area &lt;int&gt;, bsmt_full_bath &lt;dbl&gt;, bsmt_half_bath &lt;dbl&gt;,
#   full_bath &lt;int&gt;, half_bath &lt;int&gt;, bedroom_abv_gr &lt;int&gt;,
#   kitchen_abv_gr &lt;int&gt;, tot_rms_abv_grd &lt;int&gt;, fireplaces &lt;int&gt;,
#   garage_cars &lt;dbl&gt;, garage_area &lt;dbl&gt;, wood_deck_sf &lt;int&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_ames[, .SD, .SDcols <span class="ot">=</span> is.numeric]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      lot_frontage lot_area year_built year_remod_add mas_vnr_area
             &lt;num&gt;    &lt;int&gt;      &lt;int&gt;          &lt;int&gt;        &lt;num&gt;
   1:          141    31770       1960           1960          112
   2:           80    11622       1961           1961            0
   3:           81    14267       1958           1958          108
   4:           93    11160       1968           1968            0
   5:           74    13830       1997           1998            0
  ---                                                             
2926:           37     7937       1984           1984            0
2927:            0     8885       1983           1983            0
2928:           62    10441       1992           1992            0
2929:           77    10010       1974           1975            0
2930:           74     9627       1993           1994           94
29 variables not shown: [bsmt_fin_sf_1 &lt;num&gt;, bsmt_fin_sf_2 &lt;num&gt;, bsmt_unf_sf &lt;num&gt;, total_bsmt_sf &lt;num&gt;, first_flr_sf &lt;int&gt;, second_flr_sf &lt;int&gt;, gr_liv_area &lt;int&gt;, bsmt_full_bath &lt;num&gt;, bsmt_half_bath &lt;num&gt;, full_bath &lt;int&gt;, ...]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="compute-a-new-column" class="level2">
<h2 class="anchored" data-anchor-id="compute-a-new-column">Compute a new column</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false"><code>data.table</code> (new data.table)</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(neighborhood, sale_price, lot_area) <span class="sc">|&gt;</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 230 × 4
   neighborhood       sale_price lot_area price_by_lot_area
   &lt;fct&gt;                   &lt;int&gt;    &lt;int&gt;             &lt;dbl&gt;
 1 Stone_Brook            538000    53504              10.1
 2 Stone_Brook            394432    11394              34.6
 3 Northridge_Heights     376162    12858              29.3
 4 Northridge_Heights     306000    11478              26.7
 5 Northridge_Heights     395192    10159              38.9
 6 Northridge_Heights     611657    12919              47.3
 7 Northridge_Heights     500000    14300              35.0
 8 Northridge_Heights     320000    13650              23.4
 9 Northridge_Heights     319900     7658              41.8
10 Northridge             333168    14774              22.6
# ℹ 220 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           neighborhood sale_price lot_area price_by_lot_area
                 &lt;fctr&gt;      &lt;int&gt;    &lt;int&gt;             &lt;num&gt;
  1:        Stone_Brook     538000    53504          10.05532
  2:        Stone_Brook     394432    11394          34.61752
  3: Northridge_Heights     376162    12858          29.25509
  4: Northridge_Heights     306000    11478          26.65970
  5: Northridge_Heights     395192    10159          38.90068
 ---                                                         
226:         Timberland     335000    26178          12.79701
227:         Timberland     312500    14331          21.80588
228:         Timberland     320000    13618          23.49831
229:         Timberland     369900    11443          32.32544
230:         Timberland     359900    11577          31.08750</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="specialty-of-data.table-modify-in-place" class="level2">
<h2 class="anchored" data-anchor-id="specialty-of-data.table-modify-in-place">Specialty of <code>data.table</code>: modify in place</h2>
<p>In the last step we have seen that <code>mutate()</code> and using a <code>list()</code> inside the <code>[]</code> of a <code>data.table</code> work almost similarly. But there’s a specialty that you might want to keep in mind.</p>
<p>You see, in the previous example we created a new <code>data.table</code>. And that’s why we have seen an output after <code>df_ames[...]</code>. But checkout what happens if I don’t use <code>list()</code> and instead use the <code>:=</code> operator inside the brackets.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  price_by_lot_area <span class="sc">:</span><span class="er">=</span> sale_price <span class="sc">/</span> lot_area</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>See? No output. But if we look at <code>df_ames</code>, we’ll notice that the <code>price_by_lot_area</code> was actually created. And that happened even though we never overwrote <code>df_ames</code> like <code>df_ames &lt;-</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Notice no filter on rows here as first argument was left blank.</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>df_ames[, price_by_lot_area] <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]       NA       NA       NA       NA       NA       NA       NA       NA
 [9]       NA       NA       NA       NA       NA       NA       NA 10.05532
[17]       NA 34.61752       NA       NA       NA       NA       NA       NA
[25]       NA       NA       NA       NA       NA       NA</code></pre>
</div>
</div>
<p>Notice now that we have lots of <code>NA</code>s in that column now. This happens because we instructed R to only compute the <code>price_by_lot_area</code> column where <code>sale_price &gt; 300000</code>. Interesting how that works, isn’t it?</p>
<p>If you wanted to calculate all values, you could leave out the filtering condition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df_ames[, price_by_lot_area <span class="sc">:</span><span class="er">=</span> sale_price <span class="sc">/</span> lot_area]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>df_ames[, price_by_lot_area] <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6.767391  9.034590 12.055793 21.863799 13.731020 19.593105 43.394309
 [8] 38.261738 43.885693 25.200000 17.590000 23.182957 21.471078 16.853381
[15] 31.085044 10.055323 13.515741 34.617518  7.367541 15.939279 16.168837
[22] 16.000000 28.800000 13.255048 11.956608 16.804734 15.000000 10.952381
[29] 31.410038 57.142857</code></pre>
</div>
</div>
</section>
<section id="calculate-multiple-new-columns" class="level2">
<h2 class="anchored" data-anchor-id="calculate-multiple-new-columns">Calculate multiple new columns</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false"><code>data.table</code> (new)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false"><code>data.table</code> (in-place)</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(neighborhood, sale_price, lot_area) <span class="sc">|&gt;</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> log_sale_price <span class="sc">/</span> lot_area</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 230 × 6
   neighborhood       sale_price lot_area price_by_lot_area log_sale_price
   &lt;fct&gt;                   &lt;int&gt;    &lt;int&gt;             &lt;dbl&gt;          &lt;dbl&gt;
 1 Stone_Brook            538000    53504              10.1           13.2
 2 Stone_Brook            394432    11394              34.6           12.9
 3 Northridge_Heights     376162    12858              29.3           12.8
 4 Northridge_Heights     306000    11478              26.7           12.6
 5 Northridge_Heights     395192    10159              38.9           12.9
 6 Northridge_Heights     611657    12919              47.3           13.3
 7 Northridge_Heights     500000    14300              35.0           13.1
 8 Northridge_Heights     320000    13650              23.4           12.7
 9 Northridge_Heights     319900     7658              41.8           12.7
10 Northridge             333168    14774              22.6           12.7
# ℹ 220 more rows
# ℹ 1 more variable: log_price_by_lot_area &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> <span class="fu">log</span>(sale_price) <span class="sc">/</span> lot_area</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           neighborhood sale_price lot_area price_by_lot_area log_sale_price
                 &lt;fctr&gt;      &lt;int&gt;    &lt;int&gt;             &lt;num&gt;          &lt;num&gt;
  1:        Stone_Brook     538000    53504          10.05532       13.19561
  2:        Stone_Brook     394432    11394          34.61752       12.88520
  3: Northridge_Heights     376162    12858          29.25509       12.83778
  4: Northridge_Heights     306000    11478          26.65970       12.63134
  5: Northridge_Heights     395192    10159          38.90068       12.88713
 ---                                                                        
226:         Timberland     335000    26178          12.79701       12.72189
227:         Timberland     312500    14331          21.80588       12.65236
228:         Timberland     320000    13618          23.49831       12.67608
229:         Timberland     369900    11443          32.32544       12.82099
230:         Timberland     359900    11577          31.08750       12.79358
1 variable not shown: [log_price_by_lot_area &lt;num&gt;]</code></pre>
</div>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<p>To create multiple columns in place, you can either use the <code>let()</code> command</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">let</span>(</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> <span class="fu">log</span>(sale_price) <span class="sc">/</span> lot_area</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or the <code>:=</code> operator.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">:=</span><span class="st">`</span>(</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> <span class="fu">log</span>(sale_price) <span class="sc">/</span> lot_area</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="specialty-of-data.table-chaining" class="level2">
<h2 class="anchored" data-anchor-id="specialty-of-data.table-chaining">Specialty of <code>data.table</code>: chaining</h2>
<p>Notice that in both previous <code>data.table</code> examples we have used <code>log(sale_price)</code> twice. That means after calculating the <code>log_sale_price</code> column, we didn’t actually use that column later on. The reason for this is that it simply doesn’t work. You cannot calculate a new column and use it in the same step.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reset df_ames so that `log_sale_price` doesn't exist</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># due to previous calculations.</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>df_ames <span class="ot">&lt;-</span> <span class="fu">as.data.table</span>(ames) </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> log_sale_price <span class="sc">/</span> lot_area <span class="co"># log_sale_price here</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(jsub, SDenv, parent.frame()): object 'log_sale_price' not found</code></pre>
</div>
</div>
<p>One way to fix that is to use chain operations. You can do so by using multiple brackets like <code>df_ames[...][...]</code>, you can chain multiple operations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>][, log_price_by_lot_area <span class="sc">:</span><span class="er">=</span> log_sale_price <span class="sc">/</span> lot_area]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that this technically worked and didn’t throw an error, but you cannot find any of the new columns in <code>df_ames</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df_ames[, <span class="fu">list</span>(neighborhood, log_price_by_lot_area)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(jsub, SDenv, parent.frame()): object 'log_price_by_lot_area' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df_ames[, <span class="fu">list</span>(neighborhood, log_sale_price)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(jsub, SDenv, parent.frame()): object 'log_sale_price' not found</code></pre>
</div>
</div>
<p>Here’s why that happened: First, we created <strong>a new</strong> data.table by not using the in-place version. Remember how the <code>list()</code> command creates a new <code>data.table</code>? That’s why you get an output here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           neighborhood sale_price lot_area price_by_lot_area log_sale_price
                 &lt;fctr&gt;      &lt;int&gt;    &lt;int&gt;             &lt;num&gt;          &lt;num&gt;
  1:        Stone_Brook     538000    53504          10.05532       13.19561
  2:        Stone_Brook     394432    11394          34.61752       12.88520
  3: Northridge_Heights     376162    12858          29.25509       12.83778
  4: Northridge_Heights     306000    11478          26.65970       12.63134
  5: Northridge_Heights     395192    10159          38.90068       12.88713
 ---                                                                        
226:         Timberland     335000    26178          12.79701       12.72189
227:         Timberland     312500    14331          21.80588       12.65236
228:         Timberland     320000    13618          23.49831       12.67608
229:         Timberland     369900    11443          32.32544       12.82099
230:         Timberland     359900    11577          31.08750       12.79358</code></pre>
</div>
</div>
<p>But if you don’t save this into a new variable, then this new data table isn’t saved. Now, in the next step, we use the in-place mode of operations on the <strong>new</strong> data.table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>][, log_price_by_lot_area <span class="sc">:</span><span class="er">=</span> log_sale_price <span class="sc">/</span> lot_area]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This technically works but in-place calculations don’t return anything. They just modify the existing object. But the existing object is the <strong>new</strong> data.table that we still never saved anywhere. Hence, that calculation runs successfully but the results vanish the moment the calculation finishes.</p>
<p>What’s worse is that even if you try to save these results later, it’s no use. See? No results here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>df_test <span class="ot">&lt;-</span> df_ames[</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>][, log_price_by_lot_area <span class="sc">:</span><span class="er">=</span> log_sale_price <span class="sc">/</span> lot_area]</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>df_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So there are two ways you could fix this. Either chain your results without using the in-place calculations. This means either using <code>list()</code> or <code>.()</code> in later steps of the chain.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>][, .(<span class="at">log_price_by_lot_area =</span> log_sale_price <span class="sc">/</span> lot_area)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     log_price_by_lot_area
                     &lt;num&gt;
  1:          0.0002466285
  2:          0.0011308761
  3:          0.0009984271
  4:          0.0011004827
  5:          0.0012685429
 ---                      
226:          0.0004859762
227:          0.0008828665
228:          0.0009308324
229:          0.0011204219
230:          0.0011050861</code></pre>
</div>
</div>
<p>As we’ve seen before, this will then only return a <code>data.table</code> with the filtered rows. Or alternatively, you could use only in-place calculation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">let</span>(</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>][, log_price_by_lot_area <span class="sc">:</span><span class="er">=</span> log_sale_price <span class="sc">/</span> lot_area]</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set filter to see both NA and non-NA values</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">200000</span>, </span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  .(neighborhood, price_by_lot_area, log_sale_price, log_price_by_lot_area)</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     neighborhood price_by_lot_area log_sale_price log_price_by_lot_area
           &lt;fctr&gt;             &lt;num&gt;          &lt;num&gt;                 &lt;num&gt;
  1:   North_Ames                NA             NA                    NA
  2:   North_Ames                NA             NA                    NA
  3:  Stone_Brook                NA             NA                    NA
  4:  Stone_Brook                NA             NA                    NA
  5:  Stone_Brook                NA             NA                    NA
 ---                                                                    
853:   Timberland          21.80588       12.65236          0.0008828665
854:   Timberland          23.49831       12.67608          0.0009308324
855:   Timberland          32.32544       12.82099          0.0011204219
856:   Timberland          31.08750       12.79358          0.0011050861
857:     Mitchell                NA             NA                    NA</code></pre>
</div>
</div>
<p>But personally I prefer to chain things with a pipe operator. With the R native pipe operator <code>|&gt;</code> and its placeholder variable <code>_</code> this works pretty well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    neighborhood, </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    sale_price, </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    lot_area,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>] <span class="sc">|&gt;</span> </span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  _[, .(<span class="at">log_price_by_lot_area =</span> log_sale_price <span class="sc">/</span> lot_area)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     log_price_by_lot_area
                     &lt;num&gt;
  1:          0.0002466285
  2:          0.0011308761
  3:          0.0009984271
  4:          0.0011004827
  5:          0.0012685429
 ---                      
226:          0.0004859762
227:          0.0008828665
228:          0.0009308324
229:          0.0011204219
230:          0.0011050861</code></pre>
</div>
</div>
</section>
<section id="calculate-summary-statistics-without-grouping" class="level2">
<h2 class="anchored" data-anchor-id="calculate-summary-statistics-without-grouping">Calculate summary statistics (without grouping)</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(neighborhood, sale_price, lot_area) <span class="sc">|&gt;</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> log_sale_price <span class="sc">/</span> lot_area</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sale_price =</span> <span class="fu">mean</span>(sale_price),</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> <span class="fu">n</span>()</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  mean_sale_price n_houses
            &lt;dbl&gt;    &lt;int&gt;
1         378693.      230</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<p>In <code>data.tables</code> the special variable <code>.N</code> refers to the amount of rows. In this case <code>.N</code> refers to the amount of all rows. In a grouped setting, <code>.N</code> would refer to the group sizes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sale_price =</span> <span class="fu">mean</span>(sale_price),</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> .N</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   mean_sale_price n_houses
             &lt;num&gt;    &lt;int&gt;
1:        378693.4      230</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="calculate-summary-statistics-with-grouping" class="level2">
<h2 class="anchored" data-anchor-id="calculate-summary-statistics-with-grouping">Calculate summary statistics (with grouping)</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(neighborhood, sale_price, lot_area) <span class="sc">|&gt;</span> </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">price_by_lot_area =</span> sale_price <span class="sc">/</span> lot_area,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_sale_price =</span> <span class="fu">log</span>(sale_price),</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_price_by_lot_area =</span> log_sale_price <span class="sc">/</span> lot_area</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sale_price =</span> <span class="fu">mean</span>(sale_price),</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> <span class="fu">n</span>(),</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> neighborhood <span class="co"># use grouping</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 3
   neighborhood       mean_sale_price n_houses
   &lt;fct&gt;                        &lt;dbl&gt;    &lt;int&gt;
 1 Stone_Brook                417381.       27
 2 Northridge_Heights         389422.       91
 3 Northridge                 387282.       37
 4 Clear_Creek                315000         2
 5 Edwards                    347677.        3
 6 Sawyer_West                312533.        3
 7 College_Creek              363104.       10
 8 Crawford                   347410        10
 9 Timberland                 353320        15
10 North_Ames                 323300         2
11 Gilbert                    335500         3
12 Somerset                   345156        19
13 Veenker                    350188.        4
14 Northwest_Ames             306000         1
15 Old_Town                   400000         2
16 Green_Hills                330000         1</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<p>In <code>data.tables</code> the special variable <code>.N</code> refers to the amount of rows. In this case <code>.N</code> refers to the amount of all rows. In a grouped setting, <code>.N</code> would refer to the group sizes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df_ames[</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  sale_price <span class="sc">&gt;</span> <span class="dv">300000</span>, </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_sale_price =</span> <span class="fu">mean</span>(sale_price),</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> .N</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> neighborhood  <span class="co"># use grouping</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          neighborhood mean_sale_price n_houses
                &lt;fctr&gt;           &lt;num&gt;    &lt;int&gt;
 1:        Stone_Brook        417381.1       27
 2: Northridge_Heights        389421.9       91
 3:         Northridge        387281.6       37
 4:        Clear_Creek        315000.0        2
 5:            Edwards        347676.7        3
---                                            
12:           Somerset        345156.0       19
13:            Veenker        350187.5        4
14:     Northwest_Ames        306000.0        1
15:           Old_Town        400000.0        2
16:        Green_Hills        330000.0        1</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="iterate-over-multiple-columns" class="level2">
<h2 class="anchored" data-anchor-id="iterate-over-multiple-columns">Iterate over multiple columns</h2>
<p>Let’s combine our knowledge of selecting multiple columns to calculate summary stats for many columns.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<p>In <code>dplyr</code> this needs the <code>across()</code> function inside of <code>summarize()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="fu">contains</span>(<span class="st">'area'</span>),</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> mean</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> neighborhood</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 6
   neighborhood        lot_area mas_vnr_area gr_liv_area garage_area pool_area
   &lt;fct&gt;                  &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
 1 North_Ames            10040.         92.2       1292.        423.     1.99 
 2 Gilbert               11342.         39.2       1621.        454.     0    
 3 Stone_Brook           11383.        211.        1949.        626.     0    
 4 Northwest_Ames        11662.        171.        1689.        535.     8.91 
 5 Somerset               7611.        138.        1605.        620.     0    
 6 Briardale              1841.        364.        1115.        292      0    
 7 Northpark_Villa        2756.          0         1244.        421.     0    
 8 Northridge_Heights    11217.        331.        1943.        748.     0.867
 9 Bloomington_Heights    3399.         41.6       1405.        493.     0    
10 Northridge            12976.        417.        2481.        721.     7.82 
# ℹ 18 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<p>In <code>data.table</code>, you can just use the <code>.SD</code> variable again and combine that with <code>lapply()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df_ames[, </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(.SD, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> .N</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> neighborhood,</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  .SDcols <span class="ot">=</span> <span class="fu">patterns</span>(<span class="st">'area'</span>)</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      neighborhood  lot_area mas_vnr_area gr_liv_area garage_area pool_area
            &lt;fctr&gt;     &lt;num&gt;        &lt;num&gt;       &lt;num&gt;       &lt;num&gt;     &lt;num&gt;
 1:     North_Ames 10039.702     92.24605    1292.054    423.2460  1.986456
 2:        Gilbert 11342.370     39.17576    1620.897    453.8000  0.000000
 3:    Stone_Brook 11383.392    211.15686    1949.216    625.7059  0.000000
 4: Northwest_Ames 11661.695    170.78626    1688.771    534.9084  8.908397
 5:       Somerset  7610.676    137.56044    1604.830    620.3407  0.000000
---                                                                        
24:     Timberland 18233.542    179.87500    1714.639    604.6667  0.000000
25: Meadow_Village  2109.027      7.27027    1066.703    226.3784  0.000000
26:        Veenker 15482.208    139.00000    1819.542    574.0833 33.333333
27:    Green_Hills  9001.000    119.50000    1398.500    299.0000  0.000000
28:       Landmark  3612.000      0.00000    1320.000    484.0000  0.000000
3 variables not shown: [price_by_lot_area &lt;num&gt;, log_price_by_lot_area &lt;num&gt;, N &lt;int&gt;]</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Notice that for <code>data.table</code> we had to use the <code>c()</code> function to comine results. Had we used a list via <code>.()</code>, then results wouldn’t look quite the same.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df_ames[, </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  .(</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(.SD, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> .N</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> neighborhood,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  .SDcols <span class="ot">=</span> <span class="fu">patterns</span>(<span class="st">'area'</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     neighborhood       V1 n_houses
           &lt;fctr&gt;   &lt;list&gt;    &lt;int&gt;
  1:   North_Ames  10039.7      443
  2:   North_Ames 92.24605      443
  3:   North_Ames 1292.054      443
  4:   North_Ames  423.246      443
  5:   North_Ames 1.986456      443
 ---                               
192:     Landmark     1320        1
193:     Landmark      484        1
194:     Landmark        0        1
195:     Landmark      NaN        1
196:     Landmark      NaN        1</code></pre>
</div>
</div>
<p>Or we could also cover, say, numeric columns. In that case we shouldn’t use <code>.cols = contains()</code> and <code>.SDcols = patterns()</code>. Instead we’d use <code>.cols = where(is.numeric)</code> and <code>.SDcols = is.numeric</code>:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true"><code>dplyr</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false"><code>data.table</code></a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>ames <span class="sc">|&gt;</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="fu">where</span>(is.numeric),</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> mean</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> neighborhood</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 35
   neighborhood     lot_frontage lot_area year_built year_remod_add mas_vnr_area
   &lt;fct&gt;                   &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;        &lt;dbl&gt;
 1 North_Ames               63.7   10040.      1960.          1971.         92.2
 2 Gilbert                  49.9   11342.      1998.          1999.         39.2
 3 Stone_Brook              56.1   11383.      1999.          2000.        211. 
 4 Northwest_Ames           52.9   11662.      1976.          1980.        171. 
 5 Somerset                 57.5    7611.      2005.          2005.        138. 
 6 Briardale                21.5    1841.      1972.          1973         364. 
 7 Northpark_Villa          25.7    2756.      1976.          1976.          0  
 8 Northridge_Heig…         82.7   11217.      2006.          2006.        331. 
 9 Bloomington_Hei…         33.5    3399.      2005.          2005.         41.6
10 Northridge               69.7   12976.      1995.          1997.        417. 
# ℹ 18 more rows
# ℹ 29 more variables: bsmt_fin_sf_1 &lt;dbl&gt;, bsmt_fin_sf_2 &lt;dbl&gt;,
#   bsmt_unf_sf &lt;dbl&gt;, total_bsmt_sf &lt;dbl&gt;, first_flr_sf &lt;dbl&gt;,
#   second_flr_sf &lt;dbl&gt;, gr_liv_area &lt;dbl&gt;, bsmt_full_bath &lt;dbl&gt;,
#   bsmt_half_bath &lt;dbl&gt;, full_bath &lt;dbl&gt;, half_bath &lt;dbl&gt;,
#   bedroom_abv_gr &lt;dbl&gt;, kitchen_abv_gr &lt;dbl&gt;, tot_rms_abv_grd &lt;dbl&gt;,
#   fireplaces &lt;dbl&gt;, garage_cars &lt;dbl&gt;, garage_area &lt;dbl&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<p>In <code>data.tables</code> the special variable <code>.N</code> refers to the amount of rows. In this case <code>.N</code> refers to the amount of all rows. In a grouped setting, <code>.N</code> would refer to the group sizes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>df_ames[, </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(.SD, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_houses =</span> .N</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  by <span class="ot">=</span> neighborhood,</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  .SDcols <span class="ot">=</span> is.numeric</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      neighborhood lot_frontage  lot_area year_built year_remod_add
            &lt;fctr&gt;        &lt;num&gt;     &lt;num&gt;      &lt;num&gt;          &lt;num&gt;
 1:     North_Ames     63.66591 10039.702   1959.876       1970.652
 2:        Gilbert     49.92121 11342.370   1998.303       1998.994
 3:    Stone_Brook     56.07843 11383.392   1999.431       1999.725
 4: Northwest_Ames     52.89313 11661.695   1975.588       1980.252
 5:       Somerset     57.45604  7610.676   2004.621       2004.956
---                                                                
24:     Timberland     64.25000 18233.542   1995.333       1996.667
25: Meadow_Village     22.83784  2109.027   1972.243       1976.027
26:        Veenker     48.00000 15482.208   1981.708       1987.750
27:    Green_Hills      0.00000  9001.000   1992.000       1992.000
28:       Landmark      0.00000  3612.000   1993.000       1994.000
34 variables not shown: [mas_vnr_area &lt;num&gt;, bsmt_fin_sf_1 &lt;num&gt;, bsmt_fin_sf_2 &lt;num&gt;, bsmt_unf_sf &lt;num&gt;, total_bsmt_sf &lt;num&gt;, first_flr_sf &lt;num&gt;, second_flr_sf &lt;num&gt;, gr_liv_area &lt;num&gt;, bsmt_full_bath &lt;num&gt;, bsmt_half_bath &lt;num&gt;, ...]</code></pre>
</div>
</div>
</div>
</div>
</div>



</section>

<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">
<div class="quarto-post image-right" data-index="0" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50" data-listing-date-sort="1752130800000" data-listing-file-modified-sort="1752187584919" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="3" data-listing-word-count-sort="506">
<div class="thumbnail">
<p><a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external"></a></p><a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2025-07-10-numfocus-community_team/NumFocus_LRG.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external">data.table is a NumFOCUS project!</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
</div>
<div class="listing-description">
<a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external">We are SO excited to announce some massive news for the <code>data.table</code> community: <code>data.table</code> is now a NumFOCUS Sponsored Project!!!</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2025-07-10-numfocus-community_team/index.html" class="no-external">
<div class="listing-date">
Jul 10, 2025
</div>
<div class="listing-author">
Community Team
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="1" data-categories="ZGV2ZWxvcGVyJTJDZ3Vlc3QlMjBwb3N0JTJDcGVyZm9ybWFuY2U=" data-listing-date-sort="1736755200000" data-listing-file-modified-sort="1752182335093" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="39" data-listing-word-count-sort="7775">
<div class="thumbnail">
<p><a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external"></a></p><a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2025-01-13-non-api-use/image.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external">Use of non-API entry points in <code>data.table</code></a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('ZGV2ZWxvcGVy'); return false;">
developer
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3Vlc3QlMjBwb3N0'); return false;">
guest post
</div>
<div class="listing-category" onclick="window.quartoListingCategory('cGVyZm9ybWFuY2U='); return false;">
performance
</div>
</div>
<div class="listing-description">
<a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external">In the late 1970’s, people at Bell Laboratories designed the S programming language in order to facilitate interactive exploratory data analysis <span class="citation" data-cites="Chambers2016">(Chambers 2016)</span>. Instead of…<span class="citation" data-cites="Becker1985"></span></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2025-01-13-non-api-use/index.html" class="no-external">
<div class="listing-date">
Jan 13, 2025
</div>
<div class="listing-author">
Ivan Krylov
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="2" data-categories="dHV0b3JpYWxzJTJDY29tbXVuaXR5" data-listing-date-sort="1733558400000" data-listing-file-modified-sort="1733699642000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2" data-listing-word-count-sort="326">
<div class="thumbnail">
<p><a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external"></a></p><a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-12-07-advent_of_code-kelly_bodwin/aoc2.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external">Advent of Code with <code>data.table</code>: Week One</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('dHV0b3JpYWxz'); return false;">
tutorials
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Y29tbXVuaXR5'); return false;">
community
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external">Happy December, R friends!</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-12-07-advent_of_code-kelly_bodwin/index.html" class="no-external">
<div class="listing-date">
Dec 7, 2024
</div>
<div class="listing-author">
Kelly Bodwin
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="3" data-categories="ZGV2ZWxvcGVyJTJDZ2l0aHViJTIwYWN0aW9uJTJDcGVyZm9ybWFuY2UlMjB0ZXN0aW5n" data-listing-date-sort="1731312000000" data-listing-file-modified-sort="1752182078716" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="11" data-listing-word-count-sort="2097">
<div class="thumbnail">
<p><a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external"></a></p><a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-11-11-performance-testing-gha-anirban_chetia" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external">Continuous performance testing using GitHub Actions</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('ZGV2ZWxvcGVy'); return false;">
developer
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z2l0aHViJTIwYWN0aW9u'); return false;">
github action
</div>
<div class="listing-category" onclick="window.quartoListingCategory('cGVyZm9ybWFuY2UlMjB0ZXN0aW5n'); return false;">
performance testing
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external">In an effort to address the need for continuous performance benchmarking in <code>data.table</code>, I created a GitHub Action<sup>1</sup> to facilitate testing the time/memory-based performance of…</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-11-11-performance-testing-gha-anirban_chetia/index.html" class="no-external">
<div class="listing-date">
Nov 11, 2024
</div>
<div class="listing-author">
Anirban Chetia
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="4" data-categories="dGlwcyUyQ3R1dG9yaWFscyUyQ2RldmVsb3BlciUyQ2JlbmNobWFya3M=" data-listing-date-sort="1729148400000" data-listing-file-modified-sort="1752182335093" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="21" data-listing-word-count-sort="4191">
<div class="thumbnail">
<p><a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/duckdb.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external">Comparing <code>data.table</code> reshape to <code>duckdb</code> and <code>polars</code></a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('dGlwcw=='); return false;">
tips
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dHV0b3JpYWxz'); return false;">
tutorials
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZGV2ZWxvcGVy'); return false;">
developer
</div>
<div class="listing-category" onclick="window.quartoListingCategory('YmVuY2htYXJrcw=='); return false;">
benchmarks
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external">One element of the NSF POSE grant for <code>data.table</code> is to create benchmarks which can inform users about when <code>data.table</code> could be more performant than similar software. Two…<code></code><code></code></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-10-17-duckdb_polars_reshape-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Oct 17, 2024
</div>
<div class="listing-author">
Toby Dylan Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="5" data-categories="cGVyZm9ybWFuY2UlMkN0ZXN0aW5nJTJDZGV2ZWxvcGVy" data-listing-date-sort="1728543600000" data-listing-file-modified-sort="1729222897000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="12" data-listing-word-count-sort="2217">
<div class="thumbnail">
<p><a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external"></a></p><a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-10-10-Performance-Doris_Amoakohene/atime.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external">Visualizing performance regression of <code>data.table</code> with <code>atime</code></a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('cGVyZm9ybWFuY2U='); return false;">
performance
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dGVzdGluZw=='); return false;">
testing
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZGV2ZWxvcGVy'); return false;">
developer
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external">Since August 2023, I have been working on performance testing, which could be useful for expanding the open-source ecosystem around <code>data.table</code> package in R. This could…<code></code></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-10-10-Performance-Doris_Amoakohene/index.html" class="no-external">
<div class="listing-date">
Oct 10, 2024
</div>
<div class="listing-author">
Doris Afriyie Amoakohene
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="6" data-categories="c2VhbCUyMG9mJTIwYXBwcm92YWwlMkNhcHBsaWNhdGlvbiUyMHBhY2thZ2U=" data-listing-date-sort="1727766000000" data-listing-file-modified-sort="1729222312000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2" data-listing-word-count-sort="381">
<div class="thumbnail">
<p><a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external"></a></p><a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-10-01-seal_of_approval-mlr3/hex_approved.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external">Seal of Approval: mlr3</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('c2VhbCUyMG9mJTIwYXBwcm92YWw='); return false;">
seal of approval
</div>
<div class="listing-category" onclick="window.quartoListingCategory('YXBwbGljYXRpb24lMjBwYWNrYWdl'); return false;">
application package
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external"><em>Author(s):</em> Michel Lang, Bernd Bischl, Jakob Richter, Patrick Schratz, Martin Binder, Florian Pfisterer, Raphael Sonabend, Marc Becker, Sebastian Fischer</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-10-01-seal_of_approval-mlr3/index.html" class="no-external">
<div class="listing-date">
Oct 1, 2024
</div>
<div class="listing-author">
Maximilian Mücke
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="7" data-categories="c2VhbCUyMG9mJTIwYXBwcm92YWwlMkNwYXJ0bmVyJTIwcGFja2FnZQ==" data-listing-date-sort="1726902000000" data-listing-file-modified-sort="1729222824000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="5" data-listing-word-count-sort="981">
<div class="thumbnail">
<p><a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external"></a></p><a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-09-21-seal_of_approval-collapse/hex_approved.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external">Seal of Approval: collapse</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('c2VhbCUyMG9mJTIwYXBwcm92YWw='); return false;">
seal of approval
</div>
<div class="listing-category" onclick="window.quartoListingCategory('cGFydG5lciUyMHBhY2thZ2U='); return false;">
partner package
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external"><em>Author(s):</em> Sebastian Krantz</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-09-21-seal_of_approval-collapse/index.html" class="no-external">
<div class="listing-date">
Sep 21, 2024
</div>
<div class="listing-author">
Sebastian Krantz
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="8" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50JTJDdHJhbnNsYXRpb24=" data-listing-date-sort="1724137200000" data-listing-file-modified-sort="1729223516000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="1" data-listing-word-count-sort="140">
<div class="thumbnail">
<p><a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external"></a></p><a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-08-20-translation_projects-community_team/languages.jpeg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external">Newly awarded translation projects</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dHJhbnNsYXRpb24='); return false;">
translation
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external">We are pleased to fund a French translation project, led by Philippe Grosjean, who is also the leader of the base R French translation. Co-authors include Christian Wia…</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-08-20-translation_projects-community_team/index.html" class="no-external">
<div class="listing-date">
Aug 20, 2024
</div>
<div class="listing-author">
Toby Dylan Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="9" data-categories="c2VhbCUyMG9mJTIwYXBwcm92YWwlMkNicmlkZ2UlMjBwYWNrYWdl" data-listing-date-sort="1722495600000" data-listing-file-modified-sort="1723483115000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2" data-listing-word-count-sort="253">
<div class="thumbnail">
<p><a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external"></a></p><a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-08-01-seal_of_approval-dtplyr/hex_approved.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external">Seal of Approval: dtplyr</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('c2VhbCUyMG9mJTIwYXBwcm92YWw='); return false;">
seal of approval
</div>
<div class="listing-category" onclick="window.quartoListingCategory('YnJpZGdlJTIwcGFja2FnZQ=='); return false;">
bridge package
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external"><em>Author(s):</em> Hadley Wickham, Maximilian Girlich, Mark Fairbanks, Ryan Dickerson, Posit Software PBC</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-08-01-seal_of_approval-dtplyr/index.html" class="no-external">
<div class="listing-date">
Aug 1, 2024
</div>
<div class="listing-author">
Kelly Bodwin
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="10" data-categories="c2VhbCUyMG9mJTIwYXBwcm92YWwlMkNleHRlbnNpb24lMjBwYWNrYWdl" data-listing-date-sort="1722495600000" data-listing-file-modified-sort="1723507004000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="4" data-listing-word-count-sort="698">
<div class="thumbnail">
<p><a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external"></a></p><a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-08-01-seal_of_approval-nc/hex_approved.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external">Seal of Approval: nc</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('c2VhbCUyMG9mJTIwYXBwcm92YWw='); return false;">
seal of approval
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZXh0ZW5zaW9uJTIwcGFja2FnZQ=='); return false;">
extension package
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external"><em>Maintainer:</em> Toby Dylan Hocking (toby.hocking@r-project.org)</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-08-01-seal_of_approval-nc/index.html" class="no-external">
<div class="listing-date">
Aug 1, 2024
</div>
<div class="listing-author">
Toby Dylan Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="11" data-categories="c2VhbCUyMG9mJTIwYXBwcm92YWwlMkNicmlkZ2UlMjBwYWNrYWdl" data-listing-date-sort="1722495600000" data-listing-file-modified-sort="1727154989000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="4" data-listing-word-count-sort="657">
<div class="thumbnail">
<p><a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external"></a></p><a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-08-01-seal_of_approval-tidyfast/hex_approved.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external">Seal of Approval: tidyfast</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('c2VhbCUyMG9mJTIwYXBwcm92YWw='); return false;">
seal of approval
</div>
<div class="listing-category" onclick="window.quartoListingCategory('YnJpZGdlJTIwcGFja2FnZQ=='); return false;">
bridge package
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external"><em>Author(s):</em> Tyson S. Barrett, Mark Fairbanks, Ivan Leung, Indrajeet Patil</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-08-01-seal_of_approval-tidyfast/index.html" class="no-external">
<div class="listing-date">
Aug 1, 2024
</div>
<div class="listing-author">
Tyson S. Barrett
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="12" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50JTJDY29tbXVuaXR5JTJDc2VhbCUyMG9mJTIwYXBwcm92YWw=" data-listing-date-sort="1722409200000" data-listing-file-modified-sort="1727154989000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2" data-listing-word-count-sort="215">
<div class="thumbnail">
<p><a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external"></a></p><a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-07-31-seal_of_approval_announcement-community_team/seal_of_approval.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external">Announcement: The ‘Seal of Approval’</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Y29tbXVuaXR5'); return false;">
community
</div>
<div class="listing-category" onclick="window.quartoListingCategory('c2VhbCUyMG9mJTIwYXBwcm92YWw='); return false;">
seal of approval
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external">The Community Team, alongside a group of regular <code>data.table</code> contributors, is very pleased to announce a new <strong>Seal of Approval</strong> program!</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-07-31-seal_of_approval_announcement-community_team/index.html" class="no-external">
<div class="listing-date">
Jul 31, 2024
</div>
<div class="listing-author">
Kelly Bodwin
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="13" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50JTJDYW1iYXNzYWRvcnMlMkN0cmF2ZWw=" data-listing-date-sort="1718175600000" data-listing-file-modified-sort="1729222001000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2" data-listing-word-count-sort="311">
<div class="thumbnail">
<p><a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external"></a></p><a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-06-09-ambassador_corrales-community_team/Paola_Corrales.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external">Announcement: Paola Corrales, data.table Ambassador</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('YW1iYXNzYWRvcnM='); return false;">
ambassadors
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dHJhdmVs'); return false;">
travel
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external">Paola is a professor teaching Data Science at Guillermo Brown University in Argentina, a developer of R packages and teaching materials, and a leader of the LatinR…<code></code><code></code><code></code></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-06-09-ambassador_corrales-community_team/index.html" class="no-external">
<div class="listing-date">
Jun 12, 2024
</div>
<div class="listing-author">
Community Team
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="14" data-categories="b3Bpbmlvbg==" data-listing-date-sort="1717484400000" data-listing-file-modified-sort="1736843179000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="8" data-listing-word-count-sort="1405">
<div class="thumbnail">
<p><a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external"></a></p><a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-05-20-kelly_bodwin/paths.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external">Two Roads Diverged</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('b3Bpbmlvbg=='); return false;">
opinion
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external">Two roads diverged in a wood and I, I took the one less traveled by, and that has made all the difference.</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-05-20-kelly_bodwin/index.html" class="no-external">
<div class="listing-date">
Jun 4, 2024
</div>
<div class="listing-author">
Kelly Bodwin
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="15" data-categories="Z3JhbnQlMkN0ZXN0aW5nJTJDZGV2ZWxvcGVy" data-listing-date-sort="1710057600000" data-listing-file-modified-sort="1727154989000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="8" data-listing-word-count-sort="1527">
<div class="thumbnail">
<p><a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-03-10-testing_plan-toby_hocking/code_testing.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external">Testing infrastructure for data.table</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dGVzdGluZw=='); return false;">
testing
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZGV2ZWxvcGVy'); return false;">
developer
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external">One major element of the NSF POSE grant for <code>data.table</code> is to create more documentation and testing infrastructure, in order to help expand the <code>data.table</code> ecosystem. This…</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-03-10-testing_plan-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Mar 10, 2024
</div>
<div class="listing-author">
Toby Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="16" data-categories="Y29tbXVuaXR5JTJDZ3JhbnQ=" data-listing-date-sort="1709712000000" data-listing-file-modified-sort="1727154989000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="17" data-listing-word-count-sort="3396">
<div class="thumbnail">
<p><a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external"></a></p><a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-03-06-interviews-anirban_chetia/index.jpeg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external">Community interviews about data.table</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('Y29tbXVuaXR5'); return false;">
community
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external">One stipulation of NSF POSE funded projects like this one was to conduct several interviews under NSF’s I-CORPS program (Winter 2024 Cohort), to gather information as to how <code>…</code><strong></strong><code></code></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-03-06-interviews-anirban_chetia/index.html" class="no-external">
<div class="listing-date">
Mar 6, 2024
</div>
<div class="listing-author">
Anirban Chetia
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="17" data-categories="Y29tbXVuaXR5JTJDZ3Vlc3QlMjBwb3N0JTJDZ292ZXJuYW5jZQ==" data-listing-date-sort="1708848000000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="6" data-listing-word-count-sort="1190">
<div class="thumbnail">
<p><a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external"></a></p><a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-02-25-survey_2023-aljaz_sluga/usage_frequency.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external">Results of the 2023 survey</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('Y29tbXVuaXR5'); return false;">
community
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3Vlc3QlMjBwb3N0'); return false;">
guest post
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z292ZXJuYW5jZQ=='); return false;">
governance
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external">Thanks to everyone who helped create, shared, or filled out the first data.table survey! The survey was officially open between October 17 and December 1 and it received <strong>391</strong> …</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-02-25-survey_2023-aljaz_sluga/index.html" class="no-external">
<div class="listing-date">
Feb 25, 2024
</div>
<div class="listing-author">
Aljaž Sluga
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="18" data-categories="dGlwcyUyQ3R1dG9yaWFscyUyQ2RldmVsb3Blcg==" data-listing-date-sort="1708243200000" data-listing-file-modified-sort="1727154989000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="5" data-listing-word-count-sort="918">
<div class="thumbnail">
<p><a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-02-18-dt_particularities-toby_hocking/copy_on_modify.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external">Column assignment and reference semantics in data.table</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('dGlwcw=='); return false;">
tips
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dHV0b3JpYWxz'); return false;">
tutorials
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZGV2ZWxvcGVy'); return false;">
developer
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external">The goal of this blog post is to explain some similarities and differences between the base R <code>data.frame</code> object type, and the <code>data.table</code> object type. We will focus on…</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-02-18-dt_particularities-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Feb 18, 2024
</div>
<div class="listing-author">
Toby Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="19" data-categories="dGlwcyUyQ3R1dG9yaWFscyUyQ2RvY3VtZW50YXRpb24=" data-listing-date-sort="1707120000000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="5" data-listing-word-count-sort="914">
<div class="thumbnail">
<p><a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external"></a></p><a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/brackets.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external">The Benefits of <code>data.table</code> Syntax</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('dGlwcw=='); return false;">
tips
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dHV0b3JpYWxz'); return false;">
tutorials
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZG9jdW1lbnRhdGlvbg=='); return false;">
documentation
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external">Among the many reasons to use <code>data.table</code> in your code (which includes the more common answers of speed, memory efficiency, etc.) is the <strong>syntax</strong>. The syntax is</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-02-05-tips_tricks_1-tyson_barrett/index.html" class="no-external">
<div class="listing-date">
Feb 5, 2024
</div>
<div class="listing-author">
Tyson Barrett
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="20" data-categories="Z292ZXJuYW5jZSUyQ3JlbGVhc2Vz" data-listing-date-sort="1706601600000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="4" data-listing-word-count-sort="696">
<div class="thumbnail">
<p><a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-01-30-new_governance_new_release-toby_hocking/New-Release.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external">New governance, release with new features</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('Z292ZXJuYW5jZQ=='); return false;">
governance
</div>
<div class="listing-category" onclick="window.quartoListingCategory('cmVsZWFzZXM='); return false;">
releases
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external">I am proud to report that today, the first major new <code>data.table</code> features in several years have been released to CRAN!</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-01-30-new_governance_new_release-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Jan 30, 2024
</div>
<div class="listing-author">
Toby Dylan Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="21" data-categories="dGlwcyUyQ3R1dG9yaWFscyUyQ2RvY3VtZW50YXRpb24lMkNndWVzdCUyMHBvc3Q=" data-listing-date-sort="1706428800000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="5" data-listing-word-count-sort="988">
<div class="thumbnail">
<p><a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external"></a></p><a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-01-28-piping_data_tables-elio_campitelli/image.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external">Piping data.tables</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('dGlwcw=='); return false;">
tips
</div>
<div class="listing-category" onclick="window.quartoListingCategory('dHV0b3JpYWxz'); return false;">
tutorials
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZG9jdW1lbnRhdGlvbg=='); return false;">
documentation
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3Vlc3QlMjBwb3N0'); return false;">
guest post
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external">Like a devoted plumber, modern R loves pipes. The magrittr pipe has a long history and it’s fair share of detractors, but with the implementation of the native pipe operator …</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-01-28-piping_data_tables-elio_campitelli/index.html" class="no-external">
<div class="listing-date">
Jan 28, 2024
</div>
<div class="listing-author">
Elio Campitelli
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="22" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50JTJDYW1iYXNzYWRvcnM=" data-listing-date-sort="1705219200000" data-listing-file-modified-sort="1723483462000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="2" data-listing-word-count-sort="292">
<div class="thumbnail">
<p><a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external"></a></p><a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2024-01-14-ambassador_gorecki-community_team/jan.png" class="thumbnail-image"></p>
</a><p><a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external">Announcement: Jan Gorecki, data.table Ambassador</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('YW1iYXNzYWRvcnM='); return false;">
ambassadors
</div>
</div>
<div class="listing-description">
<a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external">Jan is a natural choice for an Ambassador, due to his many years of fantastic contribution to the <code>data.table</code> package. You can find his great work in open-source development…<code></code></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2024-01-14-ambassador_gorecki-community_team/index.html" class="no-external">
<div class="listing-date">
Jan 14, 2024
</div>
<div class="listing-author">
Kelly Bodwin
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="23" data-categories="Y29uZmVyZW5jZXM=" data-listing-date-sort="1700380800000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="3" data-listing-word-count-sort="581">
<div class="thumbnail">
<p><a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2023-11-19-LatinR_summary-toby_hocking/image.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external">Summary of LatinR conference</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('Y29uZmVyZW5jZXM='); return false;">
conferences
</div>
</div>
<div class="listing-description">
<a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external">Last month, I (Toby) went to the LatinR conference in Montevideo, Uruguay. I had two goals: to teach about <code>data.table</code> in a tutorial, and to find people to work on…</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2023-11-19-LatinR_summary-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Nov 19, 2023
</div>
<div class="listing-author">
Toby Dylan Hocking
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="24" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50JTJDZnVuZGluZyUyMG9wcG9ydHVuaXR5" data-listing-date-sort="1698822000000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="3" data-listing-word-count-sort="428">
<div class="thumbnail">
<p><a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external"></a></p><a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external">
<p><img loading="lazy" src="../../posts/2023-11-01-travel_grant_announcement-community_team/image.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external">Announcement: The data.table Ambassadors Travel Grant</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZnVuZGluZyUyMG9wcG9ydHVuaXR5'); return false;">
funding opportunity
</div>
</div>
<div class="listing-description">
<a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external">We on the community team are very excited to announce another major funding opportunity!</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2023-11-01-travel_grant_announcement-community_team/index.html" class="no-external">
<div class="listing-date">
Nov 1, 2023
</div>
<div class="listing-author">
Kelly Bodwin
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="25" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50JTJDZnVuZGluZyUyMG9wcG9ydHVuaXR5" data-listing-date-sort="1697526000000" data-listing-file-modified-sort="1715120890000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="4" data-listing-word-count-sort="664">
<div class="thumbnail">
<p><a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" data-src="../../posts/2023-10-17-translation_announcement-toby_hocking/translate.jpeg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external">Announcement: data.table translation projects</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external"></a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
<div class="listing-category" onclick="window.quartoListingCategory('ZnVuZGluZyUyMG9wcG9ydHVuaXR5'); return false;">
funding opportunity
</div>
</div>
<div class="listing-description">
<a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external">In 2023-2025, National Science Foundation (NSF) has provided funds to support the project “Expanding the data.table ecosystem for efficient big data manipulation in R.” One…<code></code></a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2023-10-17-translation_announcement-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Oct 17, 2023
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="26" data-categories="YW5ub3VuY2VtZW50cyUyQ2dyYW50" data-listing-date-sort="1697353200000" data-listing-file-modified-sort="1727154989000" data-listing-date-modified-sort="NaN" data-listing-reading-time-sort="4" data-listing-word-count-sort="640">
<div class="thumbnail">
<p><a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external"></a></p><a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external">
<p><img loading="lazy" data-src="../../posts/2023-10-15-intro_to_grant-toby_hocking/sea_lions.jpg" class="thumbnail-image"></p>
</a><p><a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external"></a></p>
</div>
<div class="body">
<h3 class="no-anchor listing-title">
<a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external">Welcome to the data.table ecosystem project!</a>
</h3>
<div class="listing-subtitle">
<a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external">An NSF-POSE funded venture.</a>
</div>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('YW5ub3VuY2VtZW50cw=='); return false;">
announcements
</div>
<div class="listing-category" onclick="window.quartoListingCategory('Z3JhbnQ='); return false;">
grant
</div>
</div>
<div class="listing-description">
<a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external">Hi! My name is Toby Dylan Hocking, and I have been using R since 2003, which means 20 years, can you believe it?</a>
</div>
</div>
<div class="metadata">
<a href="../../posts/2023-10-15-intro_to_grant-toby_hocking/index.html" class="no-external">
<div class="listing-date">
Oct 15, 2023
</div>
<div class="listing-author">
Toby Hocking
</div>
</a>
</div>
</div>
</div>
<div class="listing-no-matching d-none">
No matching items
</div>
<nav id="listing-pagination" class="listing-pagination" aria-label="Page Navigation">
  <ul class="pagination"></ul>
</nav>
</div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/rdatatable-community\.github\.io\/The-Raft");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>